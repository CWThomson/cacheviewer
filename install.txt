Maven Setup

The build of this project is controlled using Maven. There a number of dependencies required by this project which are readily available from the central Maven repository. However, you will need to download Oracle Coherence manually.

1. Download Oracle Coherence from http://www.oracle.com/technetwork/middleware/coherence/downloads/index.html
2. Open the pom.xml in the root directory of the project.
3. Modify the location of the Coherence jar dependency

	<dependency>
		<groupId>oracle</groupId>
		<artifactId>coherence</artifactId>
		<version>3.6.1</version>
		<scope>system</scope>
		<systemPath>C:\Program Files (x86)\coherence\lib\coherence.jar</systemPath>
	</dependency>


Demo

As part of the package, I have included a demo Coherence cluster configuration and a bulk loader utility to populate a sample cache with some random data. The cache will contain randomly generated stock prices. The web client or the command line tool can then be used to extract stock prices for a given stock on a given day and from a particular source.

Web Client Demo
To populate the cache with dummy stock prices and extract a price from the cache
1. Copy coherence.jar to deploy directory of JBoss server
2. Copy cache-viewer.jar to deploy directory of JBoss server
3. Set JAVA_OPTS=-Dtangosol.pof.enabled=true -Dtangosol.pof.config=viewer-pof-config.xml
4. Start JBoss
5. Load demo data into cache by going to: http://localhost:8080/cache-viewer/BulkLoader
6. Goto http://localhost:8080/cache-viewer/Extractor
7. Enter "uk.co.christhomson.coherence.viewer.sample.objects.InstrumentPriceKey" in the "Class Search" field
8. Enter "TEST_PRICE_CACHE" in the "Cache Name" field
9. Enter "VOD.L" in the ticker field
10. Enter "2010-01-04" in the date field
11. Select "Reuters" in the price source field

Command Line Tool Demo
To populate the cache with dummy stock prices and extract a price from the cache
1. java -cp "%COHERENCE_HOME%\lib\coherence.jar;target\cache-viewer.jar" -Dtangosol.pof.config=src/main/resources/viewer-pof-config.xml -Dtangosol.pof.enabled=true com.tangosol.net.DefaultCacheServer
2. java -cp "%COHERENCE_HOME%\lib\coherence.jar;target\cache-viewer.jar" -Dtangosol.pof.config=src/main/resources/viewer-pof-config.xml -Dtangosol.pof.enabled=true uk.co.christhomson.coherence.viewer.sample.loader.InstrumentPriceBulkLoader TEST_PRICE_CACHE
3. java -cp "%COHERENCE_HOME%\lib\coherence.jar;target\cache-viewer.jar;lib\log4j-1.2.15.jar" -Dtangosol.pof.config=src/main/resources/viewer-pof-config.xml -Dtangosol.pof.enabled=true uk.co.christhomson.coherence.viewer.commandline.CoherenceViewer TEST_PRICE_CACHE uk.co.christhomson.coherence.viewer.sample.objects.InstrumentPriceKey
